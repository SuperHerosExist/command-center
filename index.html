<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COMMAND CENTER // SuperHerosExist</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Orbitron:wght@400;700;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{
--neon:#00ff41;--neon2:#00d4ff;--neon3:#ff006e;--neon4:#ffbe0b;
--bg:#0a0a0f;--bg2:#12121a;--bg3:#1a1a2e;--border:#1e1e3a;
--text:#c0c0d0;--dim:#555580;
}
html,body{height:100%;overflow:hidden;background:var(--bg);color:var(--text);font-family:'JetBrains Mono',monospace}

/* BOOT SCREEN */
#boot-screen{position:fixed;inset:0;z-index:9999;background:#000;display:flex;flex-direction:column;justify-content:center;padding:40px;font-size:14px;color:var(--neon);overflow:hidden;transition:opacity .8s}
#boot-screen.fade{opacity:0;pointer-events:none}
#boot-lines{white-space:pre-wrap;line-height:1.6;max-height:90vh;overflow:hidden}
#boot-lines .ok{color:var(--neon)}
#boot-lines .warn{color:var(--neon4)}
#boot-lines .fail{color:var(--neon3)}
#boot-lines .info{color:var(--neon2)}

/* SCANLINES */
#scanlines{position:fixed;inset:0;z-index:9998;pointer-events:none;
background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.08) 2px,rgba(0,0,0,.08) 4px)}

/* MATRIX CANVAS */
#matrix-bg{position:fixed;inset:0;z-index:0;opacity:.15}

/* MAIN APP */
#app{display:none;position:relative;z-index:1;height:100vh;overflow:hidden}
#app.visible{display:grid;grid-template-rows:auto 1fr auto;grid-template-columns:1fr 1fr;gap:0}

/* HEADER */
header{grid-column:1/-1;display:flex;align-items:center;justify-content:space-between;padding:10px 20px;
border-bottom:1px solid var(--border);background:rgba(10,10,15,.95)}
header h1{font-family:'Orbitron',sans-serif;font-size:clamp(12px,2vw,18px);font-weight:900;
background:linear-gradient(90deg,var(--neon),var(--neon2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;
letter-spacing:3px;text-transform:uppercase}
.header-right{display:flex;gap:15px;align-items:center;font-size:11px}
.header-right .status-dot{width:8px;height:8px;border-radius:50%;background:var(--neon);display:inline-block;
animation:pulse-dot 2s infinite}
@keyframes pulse-dot{0%,100%{box-shadow:0 0 4px var(--neon)}50%{box-shadow:0 0 12px var(--neon),0 0 20px var(--neon)}}
#clock{color:var(--neon2);font-variant-numeric:tabular-nums}
#sound-toggle{cursor:pointer;padding:3px 8px;border:1px solid var(--border);border-radius:3px;background:transparent;color:var(--dim);font-size:11px;font-family:inherit}
#sound-toggle.active{color:var(--neon4);border-color:var(--neon4)}

/* LEFT PANEL */
.left-panel{display:flex;flex-direction:column;overflow:hidden;border-right:1px solid var(--border)}
.panel-section{border-bottom:1px solid var(--border);padding:12px 16px}
.panel-title{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;color:var(--neon2);text-transform:uppercase;margin-bottom:10px;
display:flex;align-items:center;gap:8px}
.panel-title::before{content:'â–¸';color:var(--neon3)}

/* METRICS */
.metrics-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.metric-card{background:var(--bg2);border:1px solid var(--border);border-radius:6px;padding:10px;position:relative;overflow:hidden}
.metric-card::after{content:'';position:absolute;top:0;left:0;right:0;height:2px;
background:linear-gradient(90deg,transparent,var(--neon),transparent);animation:scan-line 3s infinite}
@keyframes scan-line{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.metric-label{font-size:9px;color:var(--dim);text-transform:uppercase;letter-spacing:1px}
.metric-value{font-size:22px;font-weight:700;color:var(--neon);margin:4px 0}
.metric-bar{height:4px;background:var(--bg3);border-radius:2px;overflow:hidden;margin-top:4px}
.metric-bar-fill{height:100%;border-radius:2px;transition:width 1s ease}
.metric-bar-fill.green{background:linear-gradient(90deg,#00ff41,#00d4ff)}
.metric-bar-fill.pink{background:linear-gradient(90deg,#ff006e,#ffbe0b)}
.metric-bar-fill.blue{background:linear-gradient(90deg,#00d4ff,#7b2ff7)}
.metric-bar-fill.yellow{background:linear-gradient(90deg,#ffbe0b,#ff006e)}

/* PROJECT CARDS */
.projects-scroll{flex:1;overflow-y:auto;padding:0 16px 12px}
.projects-scroll::-webkit-scrollbar{width:4px}
.projects-scroll::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.project-card{background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:12px;margin-bottom:8px;
cursor:pointer;transition:all .3s;position:relative}
.project-card:hover{border-color:var(--neon2);transform:translateX(4px);box-shadow:0 0 20px rgba(0,212,255,.1)}
.project-card h3{font-size:13px;color:var(--neon);margin-bottom:4px;display:flex;align-items:center;gap:6px}
.project-card h3::before{content:'â—†';font-size:8px;color:var(--neon3)}
.project-card .desc{font-size:11px;color:var(--dim);margin-bottom:8px}
.project-card .stats{display:flex;gap:12px;font-size:10px;color:var(--text)}
.project-card .stats span{display:flex;align-items:center;gap:4px}
.project-card .lang-bar{height:3px;border-radius:2px;margin-top:8px;display:flex;gap:1px;overflow:hidden}
.lang-bar-seg{height:100%;border-radius:1px;min-width:3px}

/* RIGHT PANEL */
.right-panel{display:flex;flex-direction:column;overflow:hidden}

/* ACTIVITY FEED */
.activity-feed{flex:0 0 auto;max-height:35%;overflow-y:auto;padding:0 16px 8px;border-bottom:1px solid var(--border)}
.activity-feed::-webkit-scrollbar{width:4px}
.activity-feed::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.feed-item{padding:6px 0;border-bottom:1px solid rgba(30,30,58,.5);font-size:11px;display:flex;gap:8px;align-items:flex-start}
.feed-item .time{color:var(--dim);white-space:nowrap;flex-shrink:0;font-size:10px}
.feed-item .repo{color:var(--neon2)}
.feed-item .msg{color:var(--text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.feed-item .commit-hash{color:var(--neon3);font-size:10px}

/* TERMINAL */
.terminal-wrap{flex:1;display:flex;flex-direction:column;background:rgba(5,5,10,.9);overflow:hidden}
.terminal-header{padding:8px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.terminal-header .dots{display:flex;gap:5px}
.terminal-header .dot{width:10px;height:10px;border-radius:50%}
.terminal-header .dot.r{background:#ff5f57}.dot.y{background:#febc2e}.dot.g{background:#28c840}
.terminal-header span{font-size:11px;color:var(--dim);margin-left:8px}
.terminal-body{flex:1;overflow-y:auto;padding:12px 16px;font-size:13px;line-height:1.7}
.terminal-body::-webkit-scrollbar{width:4px}
.terminal-body::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.terminal-body .line{white-space:pre-wrap;word-break:break-all}
.terminal-body .line.cmd{color:var(--neon)}
.terminal-body .line.out{color:var(--text)}
.terminal-body .line.err{color:var(--neon3)}
.terminal-body .line.info{color:var(--neon2)}
.terminal-body .line.warn{color:var(--neon4)}
.terminal-body .line.ascii{color:var(--neon);line-height:1.15;font-size:10px}
.input-line{display:flex;align-items:center;padding:8px 16px;border-top:1px solid var(--border);background:rgba(5,5,10,.95)}
.prompt{color:var(--neon);margin-right:8px;white-space:nowrap;font-size:13px}
.input-line input{flex:1;background:transparent;border:none;color:var(--neon);font-family:inherit;font-size:13px;outline:none;caret-color:var(--neon)}

/* FOOTER */
footer{grid-column:1/-1;padding:6px 20px;border-top:1px solid var(--border);background:rgba(10,10,15,.95);
display:flex;justify-content:space-between;font-size:10px;color:var(--dim)}
footer .loc{color:var(--neon3)}

/* NETWORK GRAPH */
.network-graph{height:60px;position:relative;margin-top:8px}
.network-graph canvas{width:100%;height:100%;border-radius:4px;background:rgba(0,0,0,.3)}

/* LANG COLORS */
.lang-ts{background:#3178c6}.lang-js{background:#f1e05a}.lang-html{background:#e34c26}.lang-css{background:#563d7c}
.lang-py{background:#3572A5}.lang-other{background:#555}

/* MOBILE */
@media(max-width:768px){
#app.visible{grid-template-columns:1fr;grid-template-rows:auto 1fr auto}
.left-panel{display:none}
.right-panel{grid-column:1}
header h1{font-size:11px;letter-spacing:1px}
.header-right{gap:8px}
}
@media(min-width:769px) and (max-width:1200px){
.metrics-grid{grid-template-columns:1fr}
}

/* GLOW EFFECTS */
.glow{text-shadow:0 0 10px var(--neon),0 0 20px var(--neon)}
.glow2{text-shadow:0 0 10px var(--neon2),0 0 20px var(--neon2)}

/* TYPING CURSOR */
@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}
.cursor{display:inline-block;width:8px;height:14px;background:var(--neon);animation:blink 1s infinite;vertical-align:middle;margin-left:2px}

/* FLICKER */
@keyframes flicker{0%,97%{opacity:1}98%{opacity:.7}99%{opacity:1}100%{opacity:.95}}
.flicker{animation:flicker 4s infinite}
</style>
</head>
<body>

<!-- BOOT SCREEN -->
<div id="boot-screen"><div id="boot-lines"></div></div>

<!-- SCANLINES -->
<div id="scanlines"></div>

<!-- MATRIX BG -->
<canvas id="matrix-bg"></canvas>

<!-- MAIN APP -->
<div id="app">
  <header>
    <h1 class="flicker">âŸ¨ COMMAND CENTER âŸ©</h1>
    <div class="header-right">
      <span><span class="status-dot"></span> SYSTEMS ONLINE</span>
      <span id="clock">--:--:--</span>
      <span id="uptime-display">UP 0:00:00</span>
      <button id="sound-toggle" onclick="toggleSound()">ğŸ”‡ SFX</button>
    </div>
  </header>

  <!-- LEFT -->
  <div class="left-panel">
    <div class="panel-section">
      <div class="panel-title">System Metrics</div>
      <div class="metrics-grid">
        <div class="metric-card">
          <div class="metric-label">Commit Velocity</div>
          <div class="metric-value" id="m-commits">--</div>
          <div class="metric-bar"><div class="metric-bar-fill green" id="bar-commits" style="width:0%"></div></div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Active Repos</div>
          <div class="metric-value" id="m-repos">--</div>
          <div class="metric-bar"><div class="metric-bar-fill blue" id="bar-repos" style="width:0%"></div></div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Stars</div>
          <div class="metric-value" id="m-stars">--</div>
          <div class="metric-bar"><div class="metric-bar-fill pink" id="bar-stars" style="width:0%"></div></div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Network I/O</div>
          <div class="metric-value" id="m-network">0 kb/s</div>
          <div class="metric-bar"><div class="metric-bar-fill yellow" id="bar-network" style="width:0%"></div></div>
        </div>
      </div>
      <div class="network-graph"><canvas id="net-canvas"></canvas></div>
    </div>
    <div class="panel-section" style="flex:0 0 auto">
      <div class="panel-title">Active Projects</div>
    </div>
    <div class="projects-scroll" id="projects-container">
      <div style="color:var(--dim);font-size:11px;padding:8px">Loading project data...</div>
    </div>
  </div>

  <!-- RIGHT -->
  <div class="right-panel">
    <div class="panel-section" style="flex:0 0 auto">
      <div class="panel-title">Activity Feed</div>
    </div>
    <div class="activity-feed" id="activity-feed">
      <div style="color:var(--dim);font-size:11px;padding:8px">Fetching commit data...</div>
    </div>
    <div class="terminal-wrap">
      <div class="terminal-header">
        <div class="dots"><div class="dot r"></div><div class="dot y"></div><div class="dot g"></div></div>
        <span>kevin@command-center ~ $</span>
      </div>
      <div class="terminal-body" id="terminal-body">
        <div class="line info">Welcome to Command Center v2.0</div>
        <div class="line out">Type <span style="color:var(--neon)">help</span> for available commands.</div>
        <div class="line out">&nbsp;</div>
      </div>
      <div class="input-line">
        <span class="prompt">â¯</span>
        <input type="text" id="cmd-input" autocomplete="off" spellcheck="false" placeholder="type a command...">
      </div>
    </div>
  </div>

  <footer>
    <span>KEVIN v2.0 // AI OPS ASSISTANT</span>
    <span class="loc">ğŸ“ Springfield, MO // CST</span>
    <span id="footer-status">Initializing...</span>
  </footer>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GLOBALS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const GH_USER = 'SuperHerosExist';
const FEATURED = ['bowling-intelligence','Guardian','coachesCorner','core-stats'];
const BOOT_START = Date.now();
let soundEnabled = false;
let ghData = { repos: [], events: [], user: null };
const LANG_COLORS = {TypeScript:'#3178c6',JavaScript:'#f1e05a',HTML:'#e34c26',CSS:'#563d7c',Python:'#3572A5'};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUDIO CONTEXT (lazy)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let audioCtx = null;
function beep(freq=800,dur=30,vol=.04){
  if(!soundEnabled)return;
  if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  const o=audioCtx.createOscillator(),g=audioCtx.createGain();
  o.connect(g);g.connect(audioCtx.destination);
  o.frequency.value=freq;o.type='square';g.gain.value=vol;
  o.start();g.gain.exponentialRampToValueAtTime(.001,audioCtx.currentTime+dur/1000);
  o.stop(audioCtx.currentTime+dur/1000);
}
function toggleSound(){
  soundEnabled=!soundEnabled;
  const btn=document.getElementById('sound-toggle');
  btn.textContent=soundEnabled?'ğŸ”Š SFX':'ğŸ”‡ SFX';
  btn.classList.toggle('active',soundEnabled);
  if(soundEnabled)beep(1200,50,.06);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BOOT SEQUENCE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const bootMessages = [
  {t:'[BIOS] Command Center POST...', c:'info', d:80},
  {t:'[BIOS] Memory check: 16384 MB OK', c:'ok', d:60},
  {t:'[KERN] Loading kernel modules...', c:'info', d:100},
  {t:'[KERN] Module: net_ops .......... [  OK  ]', c:'ok', d:70},
  {t:'[KERN] Module: gh_api ........... [  OK  ]', c:'ok', d:70},
  {t:'[KERN] Module: matrix_rain ...... [  OK  ]', c:'ok', d:70},
  {t:'[KERN] Module: terminal_v2 ...... [  OK  ]', c:'ok', d:70},
  {t:'[KERN] Module: project_scan ..... [  OK  ]', c:'ok', d:50},
  {t:'[KERN] Module: kevin_ai ......... [  OK  ]', c:'ok', d:50},
  {t:'[INIT] Establishing GitHub connection...', c:'info', d:200},
  {t:'[INIT] User: SuperHerosExist .... [FOUND ]', c:'ok', d:100},
  {t:'[INIT] Scanning repositories.....', c:'info', d:150},
  {t:'[INIT] â†’ bowling-intelligence ... [ONLINE]', c:'ok', d:80},
  {t:'[INIT] â†’ Guardian ............... [ONLINE]', c:'ok', d:80},
  {t:'[INIT] â†’ coachesCorner .......... [ONLINE]', c:'ok', d:80},
  {t:'[INIT] â†’ core-stats ............. [ONLINE]', c:'ok', d:80},
  {t:'[NET ] Uplink to GitHub API: 200 OK', c:'ok', d:100},
  {t:'[SEC ] Firewall rules loaded: 47 active', c:'info', d:60},
  {t:'[SEC ] Encryption: AES-256-GCM active', c:'ok', d:60},
  {t:'[SYS ] Location: Springfield, MO (CST)', c:'info', d:80},
  {t:'[SYS ] Operator: DC', c:'info', d:60},
  {t:'[SYS ] AI Assistant: Kevin v2.0', c:'info', d:60},
  {t:'', c:'ok', d:30},
  {t:'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—', c:'ok', d:40},
  {t:'â•‘   COMMAND CENTER v2.0 â€” ALL SYSTEMS GO   â•‘', c:'ok', d:40},
  {t:'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', c:'ok', d:40},
  {t:'', c:'ok', d:200},
];

async function runBoot(){
  const el = document.getElementById('boot-lines');
  for(const msg of bootMessages){
    const line = document.createElement('div');
    line.className = msg.c;
    line.textContent = msg.t;
    el.appendChild(line);
    el.scrollTop = el.scrollHeight;
    await sleep(msg.d);
  }
  await sleep(400);
  document.getElementById('boot-screen').classList.add('fade');
  await sleep(800);
  document.getElementById('boot-screen').style.display='none';
  document.getElementById('app').classList.add('visible');
  document.getElementById('cmd-input').focus();
  startSystems();
}

function sleep(ms){return new Promise(r=>setTimeout(r,ms))}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MATRIX RAIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function initMatrix(){
  const c=document.getElementById('matrix-bg'),ctx=c.getContext('2d');
  let w,h,cols,drops;
  function resize(){
    w=c.width=window.innerWidth;h=c.height=window.innerHeight;
    cols=Math.floor(w/16);drops=Array(cols).fill(1);
  }
  resize();window.addEventListener('resize',resize);
  const chars='ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³0123456789ABCDEF<>{}[]|/\\';
  function draw(){
    ctx.fillStyle='rgba(10,10,15,.06)';ctx.fillRect(0,0,w,h);
    ctx.fillStyle='#00ff4120';ctx.font='14px monospace';
    for(let i=0;i<cols;i++){
      const t=chars[Math.floor(Math.random()*chars.length)];
      ctx.fillText(t,i*16,drops[i]*16);
      if(drops[i]*16>h&&Math.random()>.975)drops[i]=0;
      drops[i]++;
    }
  }
  setInterval(draw,50);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NETWORK GRAPH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let netData = [];
function initNetGraph(){
  const c=document.getElementById('net-canvas');
  if(!c)return;
  const ctx=c.getContext('2d');
  for(let i=0;i<80;i++)netData.push(Math.random()*20);
  function draw(){
    const W=c.width=c.offsetWidth, H=c.height=c.offsetHeight;
    ctx.clearRect(0,0,W,H);
    // grid
    ctx.strokeStyle='rgba(0,212,255,.1)';ctx.lineWidth=.5;
    for(let y=0;y<H;y+=15){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
    // line
    ctx.beginPath();ctx.strokeStyle='#00d4ff';ctx.lineWidth=1.5;
    const step=W/(netData.length-1);
    netData.forEach((v,i)=>{
      const x=i*step, y=H-((v/100)*H);
      i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
    });
    ctx.stroke();
    // fill
    ctx.lineTo(W,H);ctx.lineTo(0,H);ctx.closePath();
    const grad=ctx.createLinearGradient(0,0,0,H);
    grad.addColorStop(0,'rgba(0,212,255,.2)');grad.addColorStop(1,'rgba(0,212,255,0)');
    ctx.fillStyle=grad;ctx.fill();
  }
  setInterval(()=>{
    netData.shift();
    const last=netData[netData.length-1];
    netData.push(Math.max(5,Math.min(95,last+(Math.random()-.5)*30)));
    draw();
    const v=netData[netData.length-1];
    document.getElementById('m-network').textContent=Math.round(v*12)+' kb/s';
    document.getElementById('bar-network').style.width=v+'%';
  },500);
  draw();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOCK & UPTIME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startClock(){
  setInterval(()=>{
    const now=new Date().toLocaleString('en-US',{timeZone:'America/Chicago',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});
    document.getElementById('clock').textContent=now;
    const up=Math.floor((Date.now()-BOOT_START)/1000);
    const h=Math.floor(up/3600),m=Math.floor((up%3600)/60),s=up%60;
    document.getElementById('uptime-display').textContent=`UP ${h}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  },1000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GITHUB DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchGH(){
  try{
    const [reposRes, eventsRes] = await Promise.all([
      fetch(`https://api.github.com/users/${GH_USER}/repos?per_page=100&sort=updated`),
      fetch(`https://api.github.com/users/${GH_USER}/events/public?per_page=50`)
    ]);
    ghData.repos = await reposRes.json();
    ghData.events = await eventsRes.json();
    if(!Array.isArray(ghData.repos))ghData.repos=[];
    if(!Array.isArray(ghData.events))ghData.events=[];
    renderProjects();
    renderActivity();
    updateMetrics();
    document.getElementById('footer-status').textContent=`${ghData.repos.length} repos loaded // ${ghData.events.length} events`;
  }catch(e){
    document.getElementById('footer-status').textContent='GitHub API error: '+e.message;
  }
}

function renderProjects(){
  const el=document.getElementById('projects-container');
  const featured=FEATURED.map(n=>ghData.repos.find(r=>r.name===n)).filter(Boolean);
  const rest=ghData.repos.filter(r=>!FEATURED.includes(r.name)).slice(0,6);
  el.innerHTML='';
  [...featured,...rest].forEach(repo=>{
    const isFeatured=FEATURED.includes(repo.name);
    const card=document.createElement('div');
    card.className='project-card';
    if(isFeatured)card.style.borderLeftColor='var(--neon3)';card.style.borderLeftWidth='2px';
    const langs=repo.language?`<span class="lang-bar"><span class="lang-bar-seg" style="background:${LANG_COLORS[repo.language]||'#555'};width:100%"></span></span>`:'';
    card.innerHTML=`
      <h3>${repo.name}${isFeatured?' <span style="font-size:9px;color:var(--neon3)">[FEATURED]</span>':''}</h3>
      <div class="desc">${repo.description||'No description'}</div>
      <div class="stats">
        <span>â­ ${repo.stargazers_count}</span>
        <span>ğŸ”€ ${repo.forks_count}</span>
        <span>ğŸ“¦ ${repo.size} KB</span>
        <span style="color:${LANG_COLORS[repo.language]||'#888'}">${repo.language||'â€”'}</span>
      </div>
      ${langs}
    `;
    card.onclick=()=>window.open(repo.html_url,'_blank');
    el.appendChild(card);
  });
}

function renderActivity(){
  const el=document.getElementById('activity-feed');
  const pushEvents=ghData.events.filter(e=>e.type==='PushEvent').slice(0,20);
  if(!pushEvents.length){el.innerHTML='<div style="color:var(--dim);font-size:11px;padding:8px">No recent push events</div>';return;}
  el.innerHTML='';
  pushEvents.forEach(ev=>{
    const repo=ev.repo.name.replace(GH_USER+'/','');
    const commits=ev.payload.commits||[];
    commits.forEach(c=>{
      const d=new Date(ev.created_at);
      const time=d.toLocaleString('en-US',{timeZone:'America/Chicago',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',hour12:false});
      const item=document.createElement('div');
      item.className='feed-item';
      item.innerHTML=`
        <span class="time">${time}</span>
        <span class="commit-hash">${c.sha.slice(0,7)}</span>
        <span class="repo">${repo}</span>
        <span class="msg">${c.message.split('\n')[0]}</span>
      `;
      el.appendChild(item);
    });
  });
}

function updateMetrics(){
  const totalStars=ghData.repos.reduce((a,r)=>a+r.stargazers_count,0);
  const totalRepos=ghData.repos.length;
  const pushEvents=ghData.events.filter(e=>e.type==='PushEvent');
  const totalCommits=pushEvents.reduce((a,e)=>a+(e.payload.commits?.length||0),0);
  document.getElementById('m-commits').textContent=totalCommits;
  document.getElementById('m-repos').textContent=totalRepos;
  document.getElementById('m-stars').textContent=totalStars;
  document.getElementById('bar-commits').style.width=Math.min(100,totalCommits*2)+'%';
  document.getElementById('bar-repos').style.width=Math.min(100,totalRepos*3)+'%';
  document.getElementById('bar-stars').style.width=Math.min(100,totalStars*10)+'%';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TERMINAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const termBody=()=>document.getElementById('terminal-body');
const cmdInput=()=>document.getElementById('cmd-input');

function addLine(text,cls='out'){
  const el=document.createElement('div');
  el.className='line '+cls;
  el.innerHTML=text;
  termBody().appendChild(el);
  termBody().scrollTop=termBody().scrollHeight;
}

function addLines(lines,cls='out'){lines.forEach(l=>addLine(l,cls))}

const BERNIE_QUOTES = [
  "I ain't scared of you motherf***ers.",
  "America... home of the free, land of the brave.",
  "You gotta go for what you know.",
  "I'm not a comedian who happens to act. I'm an actor who happens to be funny.",
  "Don't be sorry! Be QUIET!",
  "Who you think you kidnapped? Denzel?!",
];

const COMMANDS = {
  help: ()=>{
    addLine('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—','info');
    addLine('â•‘       AVAILABLE COMMANDS              â•‘','info');
    addLine('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£','info');
    addLine('â•‘  status    â€” system status overview   â•‘','info');
    addLine('â•‘  repos     â€” list all repositories    â•‘','info');
    addLine('â•‘  kevin     â€” about the AI assistant   â•‘','info');
    addLine('â•‘  uptime    â€” system uptime            â•‘','info');
    addLine('â•‘  whoami    â€” current operator info    â•‘','info');
    addLine('â•‘  projects  â€” featured project details â•‘','info');
    addLine('â•‘  stats     â€” GitHub statistics        â•‘','info');
    addLine('â•‘  skills    â€” DC\'s tech stack          â•‘','info');
    addLine('â•‘  time      â€” current time (CST)       â•‘','info');
    addLine('â•‘  refresh   â€” reload GitHub data       â•‘','info');
    addLine('â•‘  clear     â€” clear terminal           â•‘','info');
    addLine('â•‘  about     â€” about this page          â•‘','info');
    addLine('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','info');
  },
  status: ()=>{
    const up=Math.floor((Date.now()-BOOT_START)/1000);
    addLine('â”Œâ”€â”€â”€ SYSTEM STATUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”','info');
    addLine(`â”‚ Uptime:      ${up}s`,'info');
    addLine(`â”‚ Repos:       ${ghData.repos.length} loaded`,'info');
    addLine(`â”‚ Events:      ${ghData.events.length} tracked`,'info');
    addLine(`â”‚ API Status:  â— CONNECTED`,'cmd');
    addLine(`â”‚ Terminal:    â— ACTIVE`,'cmd');
    addLine(`â”‚ Matrix Rain: â— RUNNING`,'cmd');
    addLine('â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜','info');
  },
  repos: ()=>{
    if(!ghData.repos.length){addLine('No repos loaded yet.','warn');return;}
    addLine(`Found ${ghData.repos.length} repositories:`,'info');
    ghData.repos.forEach(r=>{
      const star=r.stargazers_count?` â­${r.stargazers_count}`:'';
      const lang=r.language?` [${r.language}]`:'';
      const featured=FEATURED.includes(r.name)?' â—†':'';
      addLine(`  ${featured?'<span style="color:var(--neon3)">â—†</span> ':'  '}${r.name}${lang}${star}`);
    });
  },
  kevin: ()=>{
    addLine('','out');
    addLine('  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—','info');
    addLine('  â•‘        KEVIN v2.0                 â•‘','info');
    addLine('  â•‘   DC\'s AI Operations Assistant    â•‘','info');
    addLine('  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','info');
    addLine('','out');
    addLine('  Runtime:    OpenClaw // Claude Opus','out');
    addLine('  Home:       Mac mini (Darwin arm64)','out');
    addLine('  Channel:    iMessage','out');
    addLine('  Status:     Always watching. Always ready.','cmd');
    addLine('','out');
  },
  uptime: ()=>{
    const up=Math.floor((Date.now()-BOOT_START)/1000);
    const h=Math.floor(up/3600),m=Math.floor((up%3600)/60),s=up%60;
    addLine(`System uptime: ${h}h ${m}m ${s}s`,'info');
    addLine(`Boot time: ${new Date(BOOT_START).toLocaleString('en-US',{timeZone:'America/Chicago'})}`,'out');
  },
  whoami: ()=>{
    addLine('Operator: DC','info');
    addLine('GitHub:   SuperHerosExist','out');
    addLine('Location: Springfield, MO','out');
    addLine('Timezone: America/Chicago (CST)','out');
    addLine('Role:     Builder. Operator. Visionary.','cmd');
  },
  projects: ()=>{
    addLine('â•â•â• FEATURED PROJECTS â•â•â•','info');
    const featured=FEATURED.map(n=>ghData.repos.find(r=>r.name===n)).filter(Boolean);
    featured.forEach(r=>{
      addLine('','out');
      addLine(`â—† <span style="color:var(--neon)">${r.name}</span>`,'out');
      addLine(`  ${r.description||'No description'}`,'out');
      addLine(`  â­ ${r.stargazers_count}  ğŸ”€ ${r.forks_count}  ğŸ“¦ ${r.size}KB  ğŸ”¤ ${r.language||'â€”'}`,'out');
    });
  },
  stats: ()=>{
    const totalStars=ghData.repos.reduce((a,r)=>a+r.stargazers_count,0);
    const totalForks=ghData.repos.reduce((a,r)=>a+r.forks_count,0);
    const langs={};
    ghData.repos.forEach(r=>{if(r.language)langs[r.language]=(langs[r.language]||0)+1;});
    addLine('â•â•â• GITHUB STATISTICS â•â•â•','info');
    addLine(`Total Repos:  ${ghData.repos.length}`,'out');
    addLine(`Total Stars:  ${totalStars}`,'out');
    addLine(`Total Forks:  ${totalForks}`,'out');
    addLine(`Languages:    ${Object.entries(langs).sort((a,b)=>b[1]-a[1]).map(([k,v])=>`${k}(${v})`).join(', ')}`,'out');
  },
  skills: ()=>{
    addLine('â•â•â• TECH STACK â•â•â•','info');
    addLine('Languages:   TypeScript, JavaScript, Python','out');
    addLine('Frontend:    React, Next.js, Vite, Tailwind','out');
    addLine('Backend:     Express, Node.js, Firebase','out');
    addLine('Cloud:       GCP (Cloud Run, BigQuery, Scheduler)','out');
    addLine('Database:    Supabase (Postgres), Firestore','out');
    addLine('AI:          Google Gemini, OpenClaw (Claude)','out');
    addLine('Tools:       Zustand, Recharts, Framer Motion, Zod','out');
  },
  time: ()=>{
    const now=new Date().toLocaleString('en-US',{timeZone:'America/Chicago',weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});
    addLine(now,'info');
  },
  clear: ()=>{termBody().innerHTML='';},
  refresh: async ()=>{
    addLine('Refreshing GitHub data...','warn');
    await fetchGH();
    addLine('Data refreshed. âœ“','cmd');
  },
  about: ()=>{
    addLine('','out');
    addLine('Command Center v2.0','info');
    addLine('Built by Kevin (AI) for DC','out');
    addLine('A cyberpunk ops dashboard with live GitHub data,','out');
    addLine('interactive terminal, and matrix rain aesthetics.','out');
    addLine('','out');
    addLine('Powered by: GitHub API, Canvas, Web Audio, pure CSS chaos','out');
    addLine('','out');
  },
  // EASTER EGGS
  bernie: ()=>{
    const q=BERNIE_QUOTES[Math.floor(Math.random()*BERNIE_QUOTES.length)];
    addLine('','out');
    addLine('  ğŸ¤ BERNIE MAC SAYS:','warn');
    addLine(`  "${q}"`,'warn');
    addLine('','out');
  },
  echo: ()=>{
    addLine('<span style="color:var(--neon3)">echo</span>: retired. wasn\'t useful.','err');
  },
  atlas: ()=>{
    addLine('<span style="color:var(--neon2)">atlas</span>: he\'s busy. managing a team.','info');
  },
  sudo: ()=>{
    addLine('Nice try. Kevin doesn\'t need sudo.','err');
  },
  hack: ()=>{
    addLine('','out');
    addLine('INITIATING HACK SEQUENCE...','err');
    addLine('â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%','cmd');
    addLine('Just kidding. We don\'t do that here.','warn');
    addLine('','out');
  },
  matrix: ()=>{
    addLine('You\'re already in the Matrix.','cmd');
    addLine('There is no spoon. ğŸ¥„','info');
  },
  ping: ()=>{
    addLine('PONG ğŸ“ (0.42ms)','cmd');
  },
  dc: ()=>{
    addLine('','out');
    addLine('  DC // SuperHerosExist','info');
    addLine('  Builder of bowling intelligence systems,','out');
    addLine('  guardian platforms, and fantasy sports engines.','out');
    addLine('  Based in Springfield, MO.','out');
    addLine('  The ops never stop. ğŸš€','cmd');
    addLine('','out');
  },
};

function handleCommand(raw){
  const cmd=raw.trim().toLowerCase();
  if(!cmd)return;
  addLine(`<span style="color:var(--dim)">â¯</span> <span style="color:var(--neon)">${raw}</span>`,'cmd');
  beep(600,20,.03);
  if(COMMANDS[cmd]){
    COMMANDS[cmd]();
  }else{
    addLine(`command not found: ${cmd}. Type <span style="color:var(--neon)">help</span> for commands.`,'err');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SIMULATED METRICS ANIMATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function animateMetrics(){
  setInterval(()=>{
    // subtle fluctuation on commit velocity display
    const cv=document.getElementById('bar-commits');
    if(cv){
      const cur=parseFloat(cv.style.width)||50;
      cv.style.width=Math.max(10,Math.min(100,cur+(Math.random()-.5)*5))+'%';
    }
  },3000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startSystems(){
  initMatrix();
  initNetGraph();
  startClock();
  fetchGH();
  animateMetrics();
}

document.addEventListener('DOMContentLoaded',()=>{
  runBoot();
  document.addEventListener('keydown',(e)=>{
    const input=document.getElementById('cmd-input');
    if(!input)return;
    if(document.getElementById('boot-screen').style.display!=='none'&&!document.getElementById('boot-screen').classList.contains('fade'))return;
    if(e.key==='Enter'){
      handleCommand(input.value);
      input.value='';
    }else{
      input.focus();
      beep(400+Math.random()*400,15,.02);
    }
  });
});
</script>
</body>
</html>
